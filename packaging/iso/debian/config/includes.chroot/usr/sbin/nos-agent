#!/bin/sh
# NithronOS Privileged Agent placeholder for ISO boot
# This will be replaced by the actual binary in production

echo "[nos-agent] Starting placeholder privileged agent..."

# Create socket directory
mkdir -p /run

# Create a dummy socket file (not functional, just placeholder)
touch /run/nos-agent.sock
chmod 660 /run/nos-agent.sock
chgrp nos /run/nos-agent.sock 2>/dev/null || true

echo "[nos-agent] Placeholder agent running (no-op mode)"

# Keep the service running
while true; do
    sleep 3600
done
