#!/bin/sh
# NithronOS Privileged Agent placeholder for ISO boot
# This will be replaced by the actual binary in production

echo "[nos-agent] Starting placeholder privileged agent..."

# Create socket directory
mkdir -p /run

# Create a dummy socket file (not functional, just placeholder)
touch /run/nos-agent.sock
# Make it world-writable for ISO environment (production will be more restrictive)
chmod 666 /run/nos-agent.sock

echo "[nos-agent] Placeholder agent running (no-op mode)"

# Keep the service running
while true; do
    sleep 3600
done
