#!/bin/sh
# Generate /etc/issue with real system information

# Get hostname
HOSTNAME=$(hostname)

# Get IP address (first non-loopback interface)
IP=$(ip -4 addr show scope global | grep inet | head -1 | awk '{print $2}' | cut -d'/' -f1)
if [ -z "$IP" ]; then
    IP="No network"
fi

# Get kernel info
KERNEL=$(uname -r)
ARCH=$(uname -m)

# Generate the issue file
cat > /etc/issue << EOF
================================================================================
     _   _ _ _   _                   ___  ____  
    | \\ | (_) |_| |__  _ __ ___  _ __/ _ \\/ ___| 
    |  \\| | | __| '_ \\| '__/ _ \\| '_ \\ | | \\___ \\ 
    | |\\  | | |_| | | | | | (_) | | | |_| |___) |
    |_| \\_|_|\\__|_| |_|_|  \\___/|_| |_\\___/____/ 
                                                  
    NithronOS 1.0 - Open Source NAS & HomeLab Platform
================================================================================
    Welcome to $HOSTNAME ($KERNEL $ARCH)
    IP Address: $IP
================================================================================

EOF
